{"version":3,"sources":["webpack:///client.180e6d2c.js","webpack:///./~/leaflet/dist/images/layers-2x.png","webpack:///./~/leaflet/dist/images/layers.png","webpack:///./~/leaflet/dist/images/marker-icon-2x.png","webpack:///./~/leaflet/dist/images/marker-icon.png","webpack:///./~/leaflet/dist/images/marker-shadow.png","webpack:///./client/components/App.vue","webpack:///./client/components/Map.vue","webpack:///./client/views/Home.vue","webpack:///./client/views/Home.vue?8fdd","webpack:///./client/components/App.vue?66e9","webpack:///./client/components/Map.vue?519f","webpack:///./client/index.js","webpack:///./client/app.js","webpack:///./client/promise-polyfill.js","webpack:///./client/pwa.js","webpack:///./client/router/index.js","webpack:///./client/store/index.js","webpack:///App.vue","webpack:///Map.vue","webpack:///Home.vue"],"names":["webpackJsonp","178","module","exports","__webpack_require__","p","179","180","181","182","192","Component","193","194","195","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","196","attrs","id","_v","name","src","basePath","_e","197","ref","zoom","center","url","attribution","_l","marker","filters","lat-lng","latlng","content","on","click","$event","enablePoints","directives","rawName","value","expression","options","availableOptions","multiple","close-on-select","clear-on-select","hide-selected","placeholder","label","track-by","domProps","input","selectedCodes","filterSearch","205","206","63","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_1__app__","$mount","64","65","67","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_0_vue___default","n","__WEBPACK_IMPORTED_MODULE_1_vuex_router_sync__","__WEBPACK_IMPORTED_MODULE_2__components_App__","__WEBPACK_IMPORTED_MODULE_2__components_App___default","__WEBPACK_IMPORTED_MODULE_3__router__","__WEBPACK_IMPORTED_MODULE_4__store__","d","app","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","a","router","store","68","__WEBPACK_IMPORTED_MODULE_0_promise_polyfill__","__WEBPACK_IMPORTED_MODULE_0_promise_polyfill___default","window","Promise","69","__WEBPACK_IMPORTED_MODULE_0_offline_plugin_runtime__","__WEBPACK_IMPORTED_MODULE_0_offline_plugin_runtime___default","install","onUpdateReady","console","log","applyUpdate","onUpdated","location","reload","70","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_1_vue_router___default","__WEBPACK_IMPORTED_MODULE_2__views_Home__","__WEBPACK_IMPORTED_MODULE_2__views_Home___default","use","mode","routes","path","component","71","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_1_vuex___default","state","count","mutations","INCREMENT","DECREMENT","actions","incrementAsync","_ref","commit","setTimeout","Store","72","data","isLoading","methods","loaded","loading","73","__WEBPACK_IMPORTED_MODULE_1_vue2_leaflet__","__WEBPACK_IMPORTED_MODULE_1_vue2_leaflet___default","__WEBPACK_IMPORTED_MODULE_2_vue_multiselect__","__WEBPACK_IMPORTED_MODULE_2_vue_multiselect___default","__WEBPACK_IMPORTED_MODULE_3_vue_resource__","__WEBPACK_IMPORTED_MODULE_3_vue_resource___default","__WEBPACK_IMPORTED_MODULE_4_lodash_fp__","__WEBPACK_IMPORTED_MODULE_5_date_fns__","L","Icon","Default","imagePath","ncodes","split","setTimeOfDay","date","timeOfDay","hours","substring","mins","components","v-map","Map","v-tilelayer","TileLayer","v-popup","Popup","v-marker","Marker","Multiselect","mounted","map","code","mapObject","$refs","fullscreenMap","fetchMapData","latLng","activeMarkers","heatMap","popupFields","_this","type","undefined","codeQuery","$root","reqUrl","getMeAUrl","remove","$http","get","then","res","processMarkers","body","heatMapMarkers","timedisp","actdate","timearrive","callArrived","disp","arrived","officerDispatched","officerArrived","minutesToArrive","seriousness","RESPONSE_THRESHOLD_IN_MINUTES","coordinates","heatLayer","maxZoom","radius","addTo","err","where","limit","markers","_this2","filter","m","Number","case_id","field","toUpperCase","join","processMarkersForHeatMap","e","c","74","__WEBPACK_IMPORTED_MODULE_0__components_Map__","__WEBPACK_IMPORTED_MODULE_0__components_Map___default","map-container"],"mappings":"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","file":"client.180e6d2c.js","sourcesContent":["webpackJsonp([1,2],{\n\n/***/ 178:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/layers-2x.png\";\n\n/***/ }),\n\n/***/ 179:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/layers.png\";\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/marker-icon-2x.png\";\n\n/***/ }),\n\n/***/ 181:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/marker-icon.png\";\n\n/***/ }),\n\n/***/ 182:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/marker-shadow.png\";\n\n/***/ }),\n\n/***/ 192:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(65)\n\nvar Component = __webpack_require__(23)(\n  /* script */\n  __webpack_require__(72),\n  /* template */\n  __webpack_require__(196),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 193:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(23)(\n  /* script */\n  __webpack_require__(73),\n  /* template */\n  __webpack_require__(197),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 194:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(64)\n\nvar Component = __webpack_require__(23)(\n  /* script */\n  __webpack_require__(74),\n  /* template */\n  __webpack_require__(195),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 195:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page\"\n  }, [_c('map-container')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 196:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view'), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [(_vm.isLoading) ? _c('div', {\n    staticClass: \"loading-container\"\n  }, [_c('img', {\n    staticClass: \"preloader\",\n    attrs: {\n      \"src\": _vm.basePath + 'static/animated_preloader.svg'\n    }\n  })]) : _vm._e()])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"map_container\"\n    }\n  }, [_c('v-map', {\n    ref: \"fullscreenMap\",\n    attrs: {\n      \"zoom\": _vm.zoom,\n      \"center\": _vm.center\n    }\n  }, [_c('v-tilelayer', {\n    attrs: {\n      \"url\": _vm.url,\n      \"attribution\": _vm.attribution\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.activeMarkers), function(marker) {\n    return (_vm.filters.enablePoints) ? _c('v-marker', {\n      attrs: {\n        \"lat-lng\": marker.latlng\n      }\n    }, [_c('v-popup', {\n      attrs: {\n        \"content\": marker.content\n      }\n    })], 1) : _vm._e()\n  })], 2), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"filters\"\n    }\n  }, [_c('button', {\n    staticClass: \"btn-toggle-points\",\n    on: {\n      \"click\": function($event) {\n        _vm.filters.enablePoints = !_vm.filters.enablePoints\n      }\n    }\n  }, [_vm._v(\"EP\")]), _vm._v(\" \"), _c('multiselect', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.filters.selectedCodes),\n      expression: \"filters.selectedCodes\"\n    }],\n    attrs: {\n      \"options\": _vm.filters.availableOptions,\n      \"multiple\": true,\n      \"close-on-select\": false,\n      \"clear-on-select\": true,\n      \"hide-selected\": true,\n      \"placeholder\": \"Select category(ies)\",\n      \"label\": \"name\",\n      \"track-by\": \"name\"\n    },\n    domProps: {\n      \"value\": (_vm.filters.selectedCodes)\n    },\n    on: {\n      \"input\": [function($event) {\n        _vm.filters.selectedCodes = $event\n      }, _vm.filterSearch]\n    }\n  })], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 205:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 206:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(63);\n\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__promise_polyfill__ = __webpack_require__(68);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app__ = __webpack_require__(67);\n\n\n\n// enable progressive web app support (with offline-plugin)\nif (true) {\n  __webpack_require__(69);\n}\n\n__WEBPACK_IMPORTED_MODULE_1__app__[\"a\" /* app */].$mount('#app');\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 67:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex_router_sync__ = __webpack_require__(203);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex_router_sync___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vuex_router_sync__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_App__ = __webpack_require__(192);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__router__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__store__ = __webpack_require__(71);\n/* unused harmony reexport router */\n/* unused harmony reexport store */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return app; });\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\n\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex_router_sync__[\"sync\"])(__WEBPACK_IMPORTED_MODULE_4__store__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_3__router__[\"a\" /* default */]);\n\nvar app = new __WEBPACK_IMPORTED_MODULE_0_vue___default.a(_extends({\n  router: __WEBPACK_IMPORTED_MODULE_3__router__[\"a\" /* default */],\n  store: __WEBPACK_IMPORTED_MODULE_4__store__[\"a\" /* default */]\n}, __WEBPACK_IMPORTED_MODULE_2__components_App___default.a));\n\n\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_promise_polyfill__ = __webpack_require__(190);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_promise_polyfill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_promise_polyfill__);\n\nwindow.Promise = window.Promise || __WEBPACK_IMPORTED_MODULE_0_promise_polyfill___default.a;\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_offline_plugin_runtime__ = __webpack_require__(189);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_offline_plugin_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_offline_plugin_runtime__);\n\n\n__WEBPACK_IMPORTED_MODULE_0_offline_plugin_runtime___default.a.install({\n  // When an update is ready, tell ServiceWorker to take control immediately:\n  onUpdateReady: function onUpdateReady() {\n    console.log('update ready');\n    __WEBPACK_IMPORTED_MODULE_0_offline_plugin_runtime___default.a.applyUpdate();\n  },\n\n\n  // Reload to get the new version:\n  onUpdated: function onUpdated() {\n    console.log('updated');\n    location.reload();\n  }\n});\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_router__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__views_Home__ = __webpack_require__(194);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__views_Home___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__views_Home__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue___default.a.use(__WEBPACK_IMPORTED_MODULE_1_vue_router___default.a);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = new __WEBPACK_IMPORTED_MODULE_1_vue_router___default.a({\n  mode: 'hash',\n  routes: [{\n    path: '/',\n    component: __WEBPACK_IMPORTED_MODULE_2__views_Home___default.a\n  }]\n});\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(204);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vuex__);\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue___default.a.use(__WEBPACK_IMPORTED_MODULE_1_vuex___default.a);\n\nvar state = {\n  count: 0\n};\n\nvar mutations = {\n  INCREMENT: function INCREMENT(state) {\n    state.count++;\n  },\n  DECREMENT: function DECREMENT(state) {\n    state.count--;\n  }\n};\n\nvar actions = {\n  incrementAsync: function incrementAsync(_ref) {\n    var commit = _ref.commit;\n\n    setTimeout(function () {\n      commit('INCREMENT');\n    }, 200);\n  }\n};\n\nvar store = new __WEBPACK_IMPORTED_MODULE_1_vuex___default.a.Store({\n  state: state,\n  mutations: mutations,\n  actions: actions\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = store;\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  data: function data() {\n    return {\n      isLoading: true,\n      basePath: \"/flpd-resource-allocation-suggestions/\"\n    };\n  },\n\n  methods: {\n    loaded: function loaded() {\n      this.isLoading = false;\n    },\n    loading: function loading() {\n      this.isLoading = true;\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue2_leaflet__ = __webpack_require__(202);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue2_leaflet___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue2_leaflet__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_multiselect__ = __webpack_require__(198);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_multiselect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue_multiselect__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_resource__ = __webpack_require__(199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_resource___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vue_resource__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_fp__ = __webpack_require__(184);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_fp___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash_fp__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_date_fns__ = __webpack_require__(114);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_date_fns___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_date_fns__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue___default.a.use(__WEBPACK_IMPORTED_MODULE_3_vue_resource___default.a);\n\n// Leaflet static image dependencies\n__webpack_require__(180);\n__webpack_require__(182);\n\nL.Icon.Default.imagePath = \"/flpd-resource-allocation-suggestions/\" + 'static/';\n\n__webpack_require__(183);\n\n// Register Components Globally\n__WEBPACK_IMPORTED_MODULE_0_vue___default.a.component(__WEBPACK_IMPORTED_MODULE_2_vue_multiselect___default.a);\n\n// TODO: Check if socrata lets me get distinct rows from a column\n// TODO: SOCRATA DOESN'T LIKE & SO URL ENCODE BEFORE SENDING PARAMS (& = %26)\nvar ncodes = \"ABANDONED VEHICLE|ACCIDENT|ACCIDENT DEALYED REP|ACCIDENT DELAYED REP|ACCIDENT HIGHWAY|ACCIDENT ROLLOVER OR|ACCIDENT W/INJURIES|ACCIDENT/EMERGENCY O|ACCIDENT-MINOR|ANIMAL BITE|ANIMAL BITE/ABUSE|ANIMAL CALL/ABUSE|ANY FIRE NOT OTHERWI|AOA|AOA (ASSIST TO OTHER|ASSAULT DELAYED|ASSAULT IN PROGRESS|ASSAULT JUST OCCURRE|AUDIBLE ALARM|BEVERAGE VIOLATION|BIOLOGICAL HAZARD|BOAT MARINE-FIRE|BOAT-MARINE ACCIDENT|BOMB THREAT|BREAKING & ENTERING|BURGLARY VEHICLE|CHILD MOLESTATION DE|CHILD MOLESTATION IN|CHILD MOLESTATION JU|CHILD/ELDERLY ABUSE|CIVIL MATTER|CODE ENFORCEMENT|COMMERCIAL STRUCTURE|CONTACT|DEAD PERSON|DISTURBANCE|DISTURBANCE - NOISE|DISTURBANCE JUVENILE|DISTURBANCE NEIGHBOR|DOMESTIC DISTURBANCE|DROWNING|DROWNING OPEN WATER|DRUNK DRIVER|DRUNK PEDESTRIAN|ELECTRICAL/UTILITY F|ELEVATOR RESCUE|EMBEZZLEMENT FRAUD|EMBEZZLEMENT-FRAUD D|EMBEZZLEMENT-FRAUD I|EMBEZZLEMENT-FRAUD J|ESCAPED PRISONER|EXPLOSION|FELONY|FIGHT DELAYED|FIGHT IN PROGRESS|FIGHT JUST OCCURRED|FIRE ALARM|FIRST ALARM|FORGERY-COUNTERFEIT|FRAUD LATE REPORT|GAMBLING|GPS TRACKER|HAZ-MAT INCIDENT|HEAVY RESCUE (COLLAS|HIT & RUN DELAYED RE|HIT & RUN W/INJURIES|HIT AND RUN|HOLD-UP ALARM|IMPERSONATING OFFICE|INFORMATION|KIDNAPPING/FALSE IMP|LARCENY DELAYED|LARCENY IN PROGRESS|LARCENY JUST OCCURRE|LARCENY-AUTO PARTS D|LARCENY-AUTO PARTS I|LARCENY-AUTO PARTS J|LEWD LACIVIOUS ACTS|LEWD-LASCIVIOUS ACTS|LOOSE FARM ANIMAL ON|LOST  FOUND PROPERTY|LOST/FOUND PROPERTY|MARINE ACCIDENT/EMER|MEDICAL -  CHEST PAI|MEDICAL -  ELECTROCU|MEDICAL -  FALL INJU|MEDICAL -  FALL NO I|MEDICAL -  HEAT/COLD|MEDICAL -  OVER DOSE|MEDICAL - ABDMONIAL|MEDICAL - ALLERGIC R|MEDICAL - BURN|MEDICAL - CHOKING|MEDICAL - DIABETIC|MEDICAL - HEART ATTA|MEDICAL - HEMORRHAGE|MEDICAL - INJURY|MEDICAL - INTERFACIL|MEDICAL - OBSTETRICA|MEDICAL - PASSED OUT|MEDICAL - PERSON DOW|MEDICAL - SEIZURE|MEDICAL - SICK PERSO|MEDICAL - STROKE|MEDICAL - TROUBLE BR|MEDICAL - UNKNOWN ME|MEDICAL ALARM|MENTALLY ILL PERSON|MISDEMEANOR|MISSING PERSON|MISSING PERSON (ENDA|MISSING PERSON (RECO|MISSING PERSON JUVEN|MURDER|NARCOTICS|ON VIEW|OPEN DOOR|POLICE SERVICE CALL|PRINTRAK TEST EVENT|PRIVATE INVESTIGATOR|PROWLER/PEEPING TOM|RE-CALL|RECKLESS DRIVING|RECKLESS OPERATION-B|RESIDENTIAL FIRE|ROBBERY - IN-PROGRES|ROBBERY - JUST OCCUR|ROBBERY DELAYED|SCC TEST TYPE PRIORI|SECOND ALARM|SEXUAL ASSAULT DELAY|SEXUAL ASSAULT IN-PR|SEXUAL ASSAULT JUST|SHOOTING DELAYED|SHOOTING IN PROGRESS|SHOOTING JUST OCCURR|SHOPLIFTER|SILENT ALARM|SILENT HOLD-UP ALARM|SILENT INTRUSION ALA|SMOKE INVESTIGATION|SNAKE CALL|SPECIAL DETAIL|STABBING DELAYED|STABBING IN PROGRESS|STABBING JUST OCCURR|STALKER DELAYED|STALKER IN PROGRESS|STALKER JUST OCCURRE|STOLEN TAG DELAYED|STOLEN TAG IN PROGRE|STOLEN TAG JUST OCCU|STOLEN TAG RECOVERY|STOLEN VEHICLE DELAY|STOLEN VEHICLE IN PR|STOLEN VEHICLE JUST|STOLEN VEHICLE RECOV|SUICIDE IN PROGRESS|SUICIDE THREATS ONLY|SUSPICIOUS INCIDENT|SUSPICIOUS PERSON|SUSPICIOUS VEHICLE|THEFT ATTEMPT|THEFT DELAYED|THIRD ALARM|TRAFFIC|TRAFFIC STOP|TRESPASSING|VANDALISM/MALICIOUS|VEHICLE ALARM|VEHICLE FIRE|VICE CASE (NON DRUG)\".split(\"|\");\n\n// Helper Functions\n\n// TODO: bug still possible when call arrives at 1159 and officer is dispatched next day (i.e. 0002)\n// Potential fix would be to see if hour of call is > 20 then run condition to check if dispatched\n// hour is < 2 - 4 hour window might prove useful as data correction.\nvar setTimeOfDay = function setTimeOfDay(date, timeOfDay) {\n  var hours = timeOfDay.substring(0, 2);\n  var mins = timeOfDay.substring(2);\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_date_fns__[\"addHours\"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_date_fns__[\"addMinutes\"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_date_fns__[\"startOfDay\"])(date), mins), hours);\n};\n\n// Vue Component Definition\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'map',\n  components: {\n    'v-map': __WEBPACK_IMPORTED_MODULE_1_vue2_leaflet___default.a.Map,\n    'v-tilelayer': __WEBPACK_IMPORTED_MODULE_1_vue2_leaflet___default.a.TileLayer,\n    'v-popup': __WEBPACK_IMPORTED_MODULE_1_vue2_leaflet___default.a.Popup,\n    'v-marker': __WEBPACK_IMPORTED_MODULE_1_vue2_leaflet___default.a.Marker,\n    Multiselect: __WEBPACK_IMPORTED_MODULE_2_vue_multiselect___default.a\n  },\n  mounted: function mounted() {\n    this.filters.availableOptions = ncodes.map(function (code) {\n      return { name: code };\n    });\n\n    this.mapObject = this.$refs.fullscreenMap.mapObject;\n\n    this.fetchMapData();\n  },\n  data: function data() {\n    return {\n      zoom: 12,\n      center: [26.1402244, -80.1908217],\n      url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n      marker: L.latLng(26.1402244, -80.1908217),\n      activeMarkers: [],\n      // HEATMAP\n      heatMap: null,\n      mapObject: null,\n      // SELECT\n      filters: {\n        selectedCodes: [],\n        availableOptions: [],\n        enablePoints: false\n      },\n      popupFields: ['capriority', 'actdate', 'timedisp', 'timearrive', 'timeclear', 'emshift', 'officer', 'ncodedesc', 'zone', 'zip']\n    };\n  },\n\n  methods: {\n    fetchMapData: function fetchMapData() {\n      var _this = this;\n\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'init';\n      var codeQuery = arguments[1];\n\n      this.$root.loading();\n      var reqUrl = this.getMeAUrl();\n      if (type !== 'init') {\n        this.heatMap.remove();\n        reqUrl = this.getMeAUrl('ncodedesc=' + codeQuery, 500);\n      }\n      this.$http.get(reqUrl).then(function (res) {\n        // TAKE THE RESPONSE BODY AND UPDATE THE STATE activeMarkers\n        _this.activeMarkers = _this.processMarkers(res.body);\n        var heatMapMarkers = res.body.map(function (call) {\n          // TODO - move this to the query to avoid sanity checking in code!\n          if (!call.timedisp || !call.actdate || !call.timearrive) {\n            return [0, 0, 0];\n          }\n          // TODO: Move this calculation to the ajax response of the raw data to avoid heavy recalculation\n          var callArrived = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_date_fns__[\"parse\"])(call.actdate);\n          // Not all mil time is a 4 digit string - this normalizes it\n          var disp = ('0000' + call.timedisp).substring(call.timedisp.length);\n          var arrived = ('0000' + call.timearrive).substring(call.timearrive.length);\n          // TODO: Simplify - if disp > HHmm of callArrived assume officer arrived next day\n          var officerDispatched = setTimeOfDay(callArrived, disp);\n          var officerArrived = setTimeOfDay(callArrived, arrived);\n          var minutesToArrive = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_date_fns__[\"differenceInMinutes\"])(officerArrived, officerDispatched);\n\n          var seriousness = 0;\n\n          var RESPONSE_THRESHOLD_IN_MINUTES = 30;\n          if (minutesToArrive > RESPONSE_THRESHOLD_IN_MINUTES) {\n            seriousness = 1;\n          } else {\n            seriousness = minutesToArrive / RESPONSE_THRESHOLD_IN_MINUTES;\n          }\n\n          return [call.location.coordinates[0], call.location.coordinates[1], seriousness];\n        });\n        _this.heatMap = L.heatLayer(heatMapMarkers, {\n          maxZoom: 1,\n          radius: 20\n        }).addTo(_this.mapObject);\n\n        _this.$root.loaded();\n      }, function (err) {\n        _this.$root.loaded();\n      });\n    },\n    getMeAUrl: function getMeAUrl() {\n      var where = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n\n      return 'https://fortlauderdale.data.socrata.com/resource/uqjx-pish.json?$limit=' + limit + '&$where=timedisp IS NOT NULL AND actdate > \"2016-01-01T00:00:00.000\" AND geox > 25 ' + (where ? 'AND (' + where + ')' : '');\n    },\n    processMarkers: function processMarkers(markers) {\n      var _this2 = this;\n\n      return markers.filter(function (m) {\n        return m.location;\n      }).map(function (m) {\n        return {\n          latlng: L.latLng(m.location.coordinates[0], m.location.coordinates[1]),\n          content: '\\n            <b>Case: ' + Number(m.case_id) + '</b><br>\\n            ' + _this2.popupFields.map(function (field) {\n            return field.toUpperCase() + ': ' + m[field];\n          }).join('<br>') + '\\n          '\n        };\n      });\n    },\n    processMarkersForHeatMap: function processMarkersForHeatMap(markers) {\n      return markers.filter(function (m) {\n        return m.location;\n      }).map(function (m) {\n        return [m.location.coordinates[0], m.location.coordinates[1], 1];\n      });\n    },\n    filterSearch: function filterSearch(e) {\n      var codeQuery = e.map(function (c) {\n        return '\"' + c.name + '\"';\n      }).join(\" OR ncodedesc=\");\n      this.fetchMapData('update', codeQuery);\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Map__ = __webpack_require__(193);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Map__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  components: {\n    'map-container': __WEBPACK_IMPORTED_MODULE_0__components_Map___default.a\n  }\n};\n\n/***/ })\n\n},[206]);\n\n\n// WEBPACK FOOTER //\n// client.180e6d2c.js","module.exports = __webpack_public_path__ + \"static/layers-2x.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/leaflet/dist/images/layers-2x.png\n// module id = 178\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/layers.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/leaflet/dist/images/layers.png\n// module id = 179\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/marker-icon-2x.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/leaflet/dist/images/marker-icon-2x.png\n// module id = 180\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/marker-icon.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/leaflet/dist/images/marker-icon.png\n// module id = 181\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/marker-shadow.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/leaflet/dist/images/marker-shadow.png\n// module id = 182\n// module chunks = 1","\n/* styles */\nrequire(\"!!./../../../../.yarn-cache/.global/node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?-autoprefixer&sourceMap!./../../node_modules/vue-loader/lib/style-rewriter?id=data-v-3977f254!postcss-loader?sourceMap!sass-loader?sourceMap!./../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!./../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!./../../node_modules/vue-loader/lib/template-compiler?id=data-v-3977f254!./../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/App.vue\n// module id = 192\n// module chunks = 1","var Component = require(\"!./../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"),\n  /* template */\n  require(\"!!./../../node_modules/vue-loader/lib/template-compiler?id=data-v-caabefe2!./../../node_modules/vue-loader/lib/selector?type=template&index=0!./Map.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/Map.vue\n// module id = 193\n// module chunks = 1","\n/* styles */\nrequire(\"!!./../../../../.yarn-cache/.global/node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?-autoprefixer&sourceMap!./../../node_modules/vue-loader/lib/style-rewriter?id=data-v-04bc8668!postcss-loader?sourceMap!sass-loader?sourceMap!./../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n\nvar Component = require(\"!./../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"),\n  /* template */\n  require(\"!!./../../node_modules/vue-loader/lib/template-compiler?id=data-v-04bc8668!./../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/views/Home.vue\n// module id = 194\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page\"\n  }, [_c('map-container')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-04bc8668!./~/vue-loader/lib/selector.js?type=template&index=0!./client/views/Home.vue\n// module id = 195\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view'), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [(_vm.isLoading) ? _c('div', {\n    staticClass: \"loading-container\"\n  }, [_c('img', {\n    staticClass: \"preloader\",\n    attrs: {\n      \"src\": _vm.basePath + 'static/animated_preloader.svg'\n    }\n  })]) : _vm._e()])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3977f254!./~/vue-loader/lib/selector.js?type=template&index=0!./client/components/App.vue\n// module id = 196\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"map_container\"\n    }\n  }, [_c('v-map', {\n    ref: \"fullscreenMap\",\n    attrs: {\n      \"zoom\": _vm.zoom,\n      \"center\": _vm.center\n    }\n  }, [_c('v-tilelayer', {\n    attrs: {\n      \"url\": _vm.url,\n      \"attribution\": _vm.attribution\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.activeMarkers), function(marker) {\n    return (_vm.filters.enablePoints) ? _c('v-marker', {\n      attrs: {\n        \"lat-lng\": marker.latlng\n      }\n    }, [_c('v-popup', {\n      attrs: {\n        \"content\": marker.content\n      }\n    })], 1) : _vm._e()\n  })], 2), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"filters\"\n    }\n  }, [_c('button', {\n    staticClass: \"btn-toggle-points\",\n    on: {\n      \"click\": function($event) {\n        _vm.filters.enablePoints = !_vm.filters.enablePoints\n      }\n    }\n  }, [_vm._v(\"EP\")]), _vm._v(\" \"), _c('multiselect', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.filters.selectedCodes),\n      expression: \"filters.selectedCodes\"\n    }],\n    attrs: {\n      \"options\": _vm.filters.availableOptions,\n      \"multiple\": true,\n      \"close-on-select\": false,\n      \"clear-on-select\": true,\n      \"hide-selected\": true,\n      \"placeholder\": \"Select category(ies)\",\n      \"label\": \"name\",\n      \"track-by\": \"name\"\n    },\n    domProps: {\n      \"value\": (_vm.filters.selectedCodes)\n    },\n    on: {\n      \"input\": [function($event) {\n        _vm.filters.selectedCodes = $event\n      }, _vm.filterSearch]\n    }\n  })], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-caabefe2!./~/vue-loader/lib/selector.js?type=template&index=0!./client/components/Map.vue\n// module id = 197\n// module chunks = 1","import './promise-polyfill'\nimport { app } from './app'\n\n// enable progressive web app support (with offline-plugin)\nif (process.env.NODE_ENV === 'production') {\n  require('./pwa')\n}\n\napp.$mount('#app')\n\n\n\n// WEBPACK FOOTER //\n// ./client/index.js","import Vue from 'vue'\nimport { sync } from 'vuex-router-sync'\nimport App from './components/App'\nimport router from './router'\nimport store from './store'\n\nsync(store, router)\n\nconst app = new Vue({\n  router,\n  store,\n  ...App\n})\n\nexport { app, router, store }\n\n\n\n// WEBPACK FOOTER //\n// ./client/app.js","import Promise from 'promise-polyfill'\nwindow.Promise = window.Promise || Promise\n\n\n\n// WEBPACK FOOTER //\n// ./client/promise-polyfill.js","import runtime from 'offline-plugin/runtime'\n\nruntime.install({\n  // When an update is ready, tell ServiceWorker to take control immediately:\n  onUpdateReady() {\n    console.log('update ready')\n    runtime.applyUpdate()\n  },\n\n  // Reload to get the new version:\n  onUpdated() {\n    console.log('updated')\n    location.reload()\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./client/pwa.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from '../views/Home'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'hash',\n  routes: [\n    {\n      path: '/',\n      component: Home\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./client/router/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst state = {\n  count: 0\n}\n\nconst mutations = {\n  INCREMENT(state) {\n    state.count++\n  },\n  DECREMENT(state) {\n    state.count--\n  }\n}\n\nconst actions = {\n  incrementAsync({commit}) {\n    setTimeout(() => {\n      commit('INCREMENT')\n    }, 200)\n  }\n}\n\nconst store = new Vuex.Store({\n  state,\n  mutations,\n  actions\n})\n\nexport default store\n\n\n\n// WEBPACK FOOTER //\n// ./client/store/index.js","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n    <transition name=\"fade\">\n      <div class=\"loading-container\" v-if=\"isLoading\">\n        <img class=\"preloader\" :src=\"basePath + 'static/animated_preloader.svg'\" />\n      </div>\n    </transition>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      isLoading: true,\n      basePath: process.env.basePath\n    };\n  },\n  methods: {\n    loaded() {\n      this.isLoading = false;\n    },\n    loading() {\n      this.isLoading = true;\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\nbody {\n  margin: 0;\n  font-size: 2rem;\n  font-family: -apple-system, BlinkMacSystemFont,\n               'avenir next', avenir,\n               helvetica, 'helvetica neue',\n               Ubuntu,\n               'segoe ui', arial,\n               sans-serif;\n}\n.page {\n  text-align: center;\n  /* nesting for the need to test postcss */\n  code {\n    background-color: #f0f0f0;\n    padding: 3px 5px;\n    border-radius: 2px;\n  }\n}\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s\n}\n.fade-enter, .fade-leave-to {\n  opacity: 0\n}\n//\n.loading-container {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  .preloader {\n    position: absolute;\n    right: 20px;\n    bottom: 20px;\n    width: 100px;\n    height: 100px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?b9c85990","<template>\n  <div>\n    <div id=\"map_container\">\n      <v-map :zoom=\"zoom\" :center=\"center\" ref=\"fullscreenMap\">\n        <v-tilelayer :url=\"url\" :attribution=\"attribution\"></v-tilelayer>\n        <v-marker v-for=\"marker in activeMarkers\" :lat-lng=\"marker.latlng\" v-if=\"filters.enablePoints\">\n          <v-popup :content=\"marker.content\"></v-popup>\n        </v-marker>\n      </v-map>\n      <div id=\"filters\">\n         <button class=\"btn-toggle-points\" @click=\"filters.enablePoints = !filters.enablePoints\">EP</button>\n         <multiselect\n            v-model=\"filters.selectedCodes\"\n            :options=\"filters.availableOptions\"\n            :multiple=\"true\"\n            :close-on-select=\"false\"\n            :clear-on-select=\"true\"\n            :hide-selected=\"true\"\n            placeholder=\"Select category(ies)\"\n            label=\"name\"\n            track-by=\"name\"\n            @input=\"filterSearch\"></multiselect>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\n\nimport Vue2Leaflet from 'vue2-leaflet';\nimport Multiselect from 'vue-multiselect';\nimport VueResource from 'vue-resource';\n\nimport { compose } from 'lodash/fp';\nimport dateFns, { parse, format, startOfDay, addHours, addMinutes, differenceInMinutes } from 'date-fns';\n\nVue.use(VueResource);\n\n// Leaflet static image dependencies\nrequire('../../node_modules/leaflet/dist/images/marker-icon-2x.png');\nrequire('../../node_modules/leaflet/dist/images/marker-shadow.png');\n\n\nL.Icon.Default.imagePath = process.env.basePath + 'static/';\n\nrequire('leaflet.heat');\n\n// Register Components Globally\nVue.component(Multiselect);\n\n// TODO: Check if socrata lets me get distinct rows from a column\n// TODO: SOCRATA DOESN'T LIKE & SO URL ENCODE BEFORE SENDING PARAMS (& = %26)\nlet ncodes = \"ABANDONED VEHICLE|ACCIDENT|ACCIDENT DEALYED REP|ACCIDENT DELAYED REP|ACCIDENT HIGHWAY|ACCIDENT ROLLOVER OR|ACCIDENT W/INJURIES|ACCIDENT/EMERGENCY O|ACCIDENT-MINOR|ANIMAL BITE|ANIMAL BITE/ABUSE|ANIMAL CALL/ABUSE|ANY FIRE NOT OTHERWI|AOA|AOA (ASSIST TO OTHER|ASSAULT DELAYED|ASSAULT IN PROGRESS|ASSAULT JUST OCCURRE|AUDIBLE ALARM|BEVERAGE VIOLATION|BIOLOGICAL HAZARD|BOAT MARINE-FIRE|BOAT-MARINE ACCIDENT|BOMB THREAT|BREAKING & ENTERING|BURGLARY VEHICLE|CHILD MOLESTATION DE|CHILD MOLESTATION IN|CHILD MOLESTATION JU|CHILD/ELDERLY ABUSE|CIVIL MATTER|CODE ENFORCEMENT|COMMERCIAL STRUCTURE|CONTACT|DEAD PERSON|DISTURBANCE|DISTURBANCE - NOISE|DISTURBANCE JUVENILE|DISTURBANCE NEIGHBOR|DOMESTIC DISTURBANCE|DROWNING|DROWNING OPEN WATER|DRUNK DRIVER|DRUNK PEDESTRIAN|ELECTRICAL/UTILITY F|ELEVATOR RESCUE|EMBEZZLEMENT FRAUD|EMBEZZLEMENT-FRAUD D|EMBEZZLEMENT-FRAUD I|EMBEZZLEMENT-FRAUD J|ESCAPED PRISONER|EXPLOSION|FELONY|FIGHT DELAYED|FIGHT IN PROGRESS|FIGHT JUST OCCURRED|FIRE ALARM|FIRST ALARM|FORGERY-COUNTERFEIT|FRAUD LATE REPORT|GAMBLING|GPS TRACKER|HAZ-MAT INCIDENT|HEAVY RESCUE (COLLAS|HIT & RUN DELAYED RE|HIT & RUN W/INJURIES|HIT AND RUN|HOLD-UP ALARM|IMPERSONATING OFFICE|INFORMATION|KIDNAPPING/FALSE IMP|LARCENY DELAYED|LARCENY IN PROGRESS|LARCENY JUST OCCURRE|LARCENY-AUTO PARTS D|LARCENY-AUTO PARTS I|LARCENY-AUTO PARTS J|LEWD LACIVIOUS ACTS|LEWD-LASCIVIOUS ACTS|LOOSE FARM ANIMAL ON|LOST  FOUND PROPERTY|LOST/FOUND PROPERTY|MARINE ACCIDENT/EMER|MEDICAL -  CHEST PAI|MEDICAL -  ELECTROCU|MEDICAL -  FALL INJU|MEDICAL -  FALL NO I|MEDICAL -  HEAT/COLD|MEDICAL -  OVER DOSE|MEDICAL - ABDMONIAL|MEDICAL - ALLERGIC R|MEDICAL - BURN|MEDICAL - CHOKING|MEDICAL - DIABETIC|MEDICAL - HEART ATTA|MEDICAL - HEMORRHAGE|MEDICAL - INJURY|MEDICAL - INTERFACIL|MEDICAL - OBSTETRICA|MEDICAL - PASSED OUT|MEDICAL - PERSON DOW|MEDICAL - SEIZURE|MEDICAL - SICK PERSO|MEDICAL - STROKE|MEDICAL - TROUBLE BR|MEDICAL - UNKNOWN ME|MEDICAL ALARM|MENTALLY ILL PERSON|MISDEMEANOR|MISSING PERSON|MISSING PERSON (ENDA|MISSING PERSON (RECO|MISSING PERSON JUVEN|MURDER|NARCOTICS|ON VIEW|OPEN DOOR|POLICE SERVICE CALL|PRINTRAK TEST EVENT|PRIVATE INVESTIGATOR|PROWLER/PEEPING TOM|RE-CALL|RECKLESS DRIVING|RECKLESS OPERATION-B|RESIDENTIAL FIRE|ROBBERY - IN-PROGRES|ROBBERY - JUST OCCUR|ROBBERY DELAYED|SCC TEST TYPE PRIORI|SECOND ALARM|SEXUAL ASSAULT DELAY|SEXUAL ASSAULT IN-PR|SEXUAL ASSAULT JUST|SHOOTING DELAYED|SHOOTING IN PROGRESS|SHOOTING JUST OCCURR|SHOPLIFTER|SILENT ALARM|SILENT HOLD-UP ALARM|SILENT INTRUSION ALA|SMOKE INVESTIGATION|SNAKE CALL|SPECIAL DETAIL|STABBING DELAYED|STABBING IN PROGRESS|STABBING JUST OCCURR|STALKER DELAYED|STALKER IN PROGRESS|STALKER JUST OCCURRE|STOLEN TAG DELAYED|STOLEN TAG IN PROGRE|STOLEN TAG JUST OCCU|STOLEN TAG RECOVERY|STOLEN VEHICLE DELAY|STOLEN VEHICLE IN PR|STOLEN VEHICLE JUST|STOLEN VEHICLE RECOV|SUICIDE IN PROGRESS|SUICIDE THREATS ONLY|SUSPICIOUS INCIDENT|SUSPICIOUS PERSON|SUSPICIOUS VEHICLE|THEFT ATTEMPT|THEFT DELAYED|THIRD ALARM|TRAFFIC|TRAFFIC STOP|TRESPASSING|VANDALISM/MALICIOUS|VEHICLE ALARM|VEHICLE FIRE|VICE CASE (NON DRUG)\".split(\"|\");\n\n// Helper Functions\n\n// TODO: bug still possible when call arrives at 1159 and officer is dispatched next day (i.e. 0002)\n// Potential fix would be to see if hour of call is > 20 then run condition to check if dispatched\n// hour is < 2 - 4 hour window might prove useful as data correction.\nconst setTimeOfDay = (date, timeOfDay) => {\n  var hours = timeOfDay.substring(0, 2);\n  var mins  = timeOfDay.substring(2);\n  return addHours(addMinutes(startOfDay(date), mins), hours);\n};\n\n// Vue Component Definition\nexport default {\n  name: 'map',\n  components: {\n    'v-map': Vue2Leaflet.Map,\n    'v-tilelayer' :Vue2Leaflet.TileLayer,\n    'v-popup' :Vue2Leaflet.Popup,\n    'v-marker': Vue2Leaflet.Marker,\n    Multiselect\n  },\n  mounted() {\n    this.filters.availableOptions = ncodes.map(code => ({ name: code }));\n\n    this.mapObject = this.$refs.fullscreenMap.mapObject;\n\n    this.fetchMapData();\n  },\n  data () {\n    return {\n      zoom: 12,\n      center: [26.1402244,-80.1908217],\n      url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n      marker: L.latLng(26.1402244,-80.1908217),\n      activeMarkers: [],\n      // HEATMAP\n      heatMap: null,\n      mapObject: null,\n      // SELECT\n      filters: {\n        selectedCodes: [],\n        availableOptions: [],\n        enablePoints: false\n      },\n      popupFields: [\n        'capriority',\n        'actdate',\n        'timedisp',\n        'timearrive',\n        'timeclear',\n        'emshift',\n        'officer',\n        'ncodedesc',\n        'zone',\n        'zip'\n      ]\n    }\n  },\n  methods: {\n    fetchMapData(type = 'init', codeQuery) {\n      this.$root.loading();\n      var reqUrl = this.getMeAUrl();\n      if(type !== 'init') {\n        this.heatMap.remove();\n        reqUrl = this.getMeAUrl(`ncodedesc=${codeQuery}`, 500);\n      }\n      this.$http.get(reqUrl).then(res => {\n        // TAKE THE RESPONSE BODY AND UPDATE THE STATE activeMarkers\n        this.activeMarkers = this.processMarkers(res.body)\n        var heatMapMarkers = res.body.map(call => {\n          // TODO - move this to the query to avoid sanity checking in code!\n          if(!call.timedisp || !call.actdate || !call.timearrive) {\n            return [0,0,0];\n          }\n          // TODO: Move this calculation to the ajax response of the raw data to avoid heavy recalculation\n          let callArrived = parse(call.actdate);\n          // Not all mil time is a 4 digit string - this normalizes it\n          let disp = ('0000' + call.timedisp).substring(call.timedisp.length);\n          let arrived = ('0000' + call.timearrive).substring(call.timearrive.length);\n          // TODO: Simplify - if disp > HHmm of callArrived assume officer arrived next day\n          let officerDispatched = setTimeOfDay(callArrived, disp);\n          let officerArrived = setTimeOfDay(callArrived, arrived)\n          var minutesToArrive = differenceInMinutes(officerArrived, officerDispatched);\n\n\n          var seriousness = 0;\n\n          var RESPONSE_THRESHOLD_IN_MINUTES = 30;\n          if(minutesToArrive > RESPONSE_THRESHOLD_IN_MINUTES) {\n            seriousness = 1;\n          } else {\n            seriousness = minutesToArrive / RESPONSE_THRESHOLD_IN_MINUTES;\n          }\n\n          return [\n            call.location.coordinates[0],\n            call.location.coordinates[1],\n            seriousness\n          ];\n        });\n        this.heatMap = L.heatLayer(heatMapMarkers, {\n          maxZoom: 1,\n          radius: 20\n        }).addTo(this.mapObject);\n\n        this.$root.loaded();\n      }, err => {\n        this.$root.loaded();\n      });\n    },\n    getMeAUrl(where = false, limit = 250) {\n      return `https://fortlauderdale.data.socrata.com/resource/uqjx-pish.json?$limit=${limit}&$where=timedisp IS NOT NULL AND actdate > \"2016-01-01T00:00:00.000\" AND geox > 25 ` + (where ? `AND (${where})` : '');\n    },\n    processMarkers(markers) {\n      return markers.filter(m => m.location)\n        .map(m => ({\n          latlng: L.latLng(m.location.coordinates[0], m.location.coordinates[1]),\n          content: `\n            <b>Case: ${Number(m.case_id)}</b><br>\n            ${this.popupFields.map(field => (\n              `${field.toUpperCase()}: ${m[field]}`\n            )).join('<br>')}\n          `\n        }));\n    },\n    processMarkersForHeatMap(markers) {\n      return markers.filter(m => m.location)\n        .map(m => [m.location.coordinates[0], m.location.coordinates[1], 1]);\n    },\n    filterSearch(e) {\n      var codeQuery = e.map(c => `\"${c.name}\"`).join(\" OR ncodedesc=\");\n      this.fetchMapData('update', codeQuery);\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Map.vue?17dca4f0","<style lang='scss'>\n@import \"../../node_modules/leaflet/dist/leaflet.css\";\n\n#side {\n  float:left;\n  width:200px;\n}\n#container {\n  margin: 0 0 0 200px;\n}\n#map_container {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n#filters {\n  position: fixed;\n  top: 10px;\n  right: 10px;\n  left: 50px;\n  z-index: 500;\n\n}\n.btn-toggle-points {\n  position: absolute;\n  left: -38px;\n  z-index: 10;\n  background: red;\n  border: 0;\n  font-size: 16px;\n  border-radius: 4px;\n  color: #fff;\n  top: 80px;\n}\n</style>\n\n<template>\n  <div class=\"page\">\n    <map-container></map-container>\n  </div>\n</template>\n\n<script>\n\nimport Map from '../components/Map'\n\nexport default {\n  components: {\n    'map-container': Map\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Home.vue?305b4da2"],"sourceRoot":""}