webpackJsonp([1,2],{177:function(t,e,E){t.exports=E.p+"static/layers-2x.png"},178:function(t,e,E){t.exports=E.p+"static/layers.png"},179:function(t,e,E){t.exports=E.p+"static/marker-icon-2x.png"},180:function(t,e,E){t.exports=E.p+"static/marker-icon.png"},181:function(t,e,E){t.exports=E.p+"static/marker-shadow.png"},185:function(t,e,E){E(65);var n=E(23)(E(71),E(189),null,null);t.exports=n.exports},186:function(t,e,E){var n=E(23)(E(72),E(190),null,null);t.exports=n.exports},187:function(t,e,E){E(64);var n=E(23)(E(73),E(188),null,null);t.exports=n.exports},188:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,E=t._self._c||e;return E("div",{staticClass:"page"},[E("map-container")],1)},staticRenderFns:[]}},189:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,E=t._self._c||e;return E("div",{attrs:{id:"app"}},[E("home"),t._v(" "),E("transition",{attrs:{name:"fade"}},[t.isLoading?E("div",{staticClass:"loading-container"},[E("img",{staticClass:"preloader",attrs:{src:t.basePath+"static/animated_preloader.svg"}})]):t._e()])],1)},staticRenderFns:[]}},190:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,E=t._self._c||e;return E("div",[E("div",{attrs:{id:"map_container"}},[E("v-map",{ref:"fullscreenMap",attrs:{zoom:t.zoom,center:t.center}},[E("v-tilelayer",{attrs:{url:t.url,attribution:t.attribution}}),t._v(" "),t._l(t.activeMarkers,function(e){return t.filters.enablePoints?E("v-marker",{attrs:{"lat-lng":e.latlng}},[E("v-popup",{attrs:{content:e.content}})],1):t._e()})],2),t._v(" "),E("div",{attrs:{id:"filters"}},[E("button",{staticClass:"btn-toggle-points",on:{click:function(e){t.filters.enablePoints=!t.filters.enablePoints}}},[t._v("EP")]),t._v(" "),E("multiselect",{attrs:{options:t.filters.availableOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!0,"hide-selected":!0,placeholder:"Select category(ies)",label:"name","track-by":"name"},on:{input:t.filterSearch},model:{value:t.filters.selectedCodes,callback:function(e){t.filters.selectedCodes=e}}})],1)],1)])},staticRenderFns:[]}},195:function(t,e){},196:function(t,e,E){t.exports=E(62)},62:function(t,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(E(69),E(68));n.a.$mount("#app")},64:function(t,e){},65:function(t,e){},68:function(t,e,E){"use strict";var n=E(7),a=E(185),r=E.n(a),i=E(70);E.d(e,"a",function(){return A});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var E=arguments[e];for(var n in E)Object.prototype.hasOwnProperty.call(E,n)&&(t[n]=E[n])}return t},A=new n.default(o({store:i.a},r.a))},69:function(t,e,E){"use strict";var n=E(183),a=E.n(n);window.Promise=window.Promise||a.a},70:function(t,e,E){"use strict";var n=E(7),a=E(194);n.default.use(a.a);var r={count:0},i={INCREMENT:function(t){t.count++},DECREMENT:function(t){t.count--}},o={incrementAsync:function(t){var e=t.commit;setTimeout(function(){e("INCREMENT")},200)}},A=new a.a.Store({state:r,mutations:i,actions:o});e.a=A},71:function(t,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=E(187),a=E.n(n);e.default={components:{Home:a.a},data:function(){return{isLoading:!0,basePath:"/flpd-resource-allocation-suggestions/"}},methods:{loaded:function(){this.isLoading=!1},loading:function(){this.isLoading=!0}}}},72:function(t,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=E(7),a=E(193),r=E.n(a),i=E(191),o=E.n(i),A=E(192),I=E.n(A),s=E(113);E.n(s);n.default.use(I.a),E(63),E(179),E(181),L.Icon.Default.imagePath="/flpd-resource-allocation-suggestions/static/",E(182),n.default.component(o.a);var R="ABANDONED VEHICLE|ACCIDENT|ACCIDENT DEALYED REP|ACCIDENT DELAYED REP|ACCIDENT HIGHWAY|ACCIDENT ROLLOVER OR|ACCIDENT W/INJURIES|ACCIDENT/EMERGENCY O|ACCIDENT-MINOR|ANIMAL BITE|ANIMAL BITE/ABUSE|ANIMAL CALL/ABUSE|ANY FIRE NOT OTHERWI|AOA|AOA (ASSIST TO OTHER|ASSAULT DELAYED|ASSAULT IN PROGRESS|ASSAULT JUST OCCURRE|AUDIBLE ALARM|BEVERAGE VIOLATION|BIOLOGICAL HAZARD|BOAT MARINE-FIRE|BOAT-MARINE ACCIDENT|BOMB THREAT|BREAKING & ENTERING|BURGLARY VEHICLE|CHILD MOLESTATION DE|CHILD MOLESTATION IN|CHILD MOLESTATION JU|CHILD/ELDERLY ABUSE|CIVIL MATTER|CODE ENFORCEMENT|COMMERCIAL STRUCTURE|CONTACT|DEAD PERSON|DISTURBANCE|DISTURBANCE - NOISE|DISTURBANCE JUVENILE|DISTURBANCE NEIGHBOR|DOMESTIC DISTURBANCE|DROWNING|DROWNING OPEN WATER|DRUNK DRIVER|DRUNK PEDESTRIAN|ELECTRICAL/UTILITY F|ELEVATOR RESCUE|EMBEZZLEMENT FRAUD|EMBEZZLEMENT-FRAUD D|EMBEZZLEMENT-FRAUD I|EMBEZZLEMENT-FRAUD J|ESCAPED PRISONER|EXPLOSION|FELONY|FIGHT DELAYED|FIGHT IN PROGRESS|FIGHT JUST OCCURRED|FIRE ALARM|FIRST ALARM|FORGERY-COUNTERFEIT|FRAUD LATE REPORT|GAMBLING|GPS TRACKER|HAZ-MAT INCIDENT|HEAVY RESCUE (COLLAS|HIT & RUN DELAYED RE|HIT & RUN W/INJURIES|HIT AND RUN|HOLD-UP ALARM|IMPERSONATING OFFICE|INFORMATION|KIDNAPPING/FALSE IMP|LARCENY DELAYED|LARCENY IN PROGRESS|LARCENY JUST OCCURRE|LARCENY-AUTO PARTS D|LARCENY-AUTO PARTS I|LARCENY-AUTO PARTS J|LEWD LACIVIOUS ACTS|LEWD-LASCIVIOUS ACTS|LOOSE FARM ANIMAL ON|LOST  FOUND PROPERTY|LOST/FOUND PROPERTY|MARINE ACCIDENT/EMER|MEDICAL -  CHEST PAI|MEDICAL -  ELECTROCU|MEDICAL -  FALL INJU|MEDICAL -  FALL NO I|MEDICAL -  HEAT/COLD|MEDICAL -  OVER DOSE|MEDICAL - ABDMONIAL|MEDICAL - ALLERGIC R|MEDICAL - BURN|MEDICAL - CHOKING|MEDICAL - DIABETIC|MEDICAL - HEART ATTA|MEDICAL - HEMORRHAGE|MEDICAL - INJURY|MEDICAL - INTERFACIL|MEDICAL - OBSTETRICA|MEDICAL - PASSED OUT|MEDICAL - PERSON DOW|MEDICAL - SEIZURE|MEDICAL - SICK PERSO|MEDICAL - STROKE|MEDICAL - TROUBLE BR|MEDICAL - UNKNOWN ME|MEDICAL ALARM|MENTALLY ILL PERSON|MISDEMEANOR|MISSING PERSON|MISSING PERSON (ENDA|MISSING PERSON (RECO|MISSING PERSON JUVEN|MURDER|NARCOTICS|ON VIEW|OPEN DOOR|POLICE SERVICE CALL|PRINTRAK TEST EVENT|PRIVATE INVESTIGATOR|PROWLER/PEEPING TOM|RE-CALL|RECKLESS DRIVING|RECKLESS OPERATION-B|RESIDENTIAL FIRE|ROBBERY - IN-PROGRES|ROBBERY - JUST OCCUR|ROBBERY DELAYED|SCC TEST TYPE PRIORI|SECOND ALARM|SEXUAL ASSAULT DELAY|SEXUAL ASSAULT IN-PR|SEXUAL ASSAULT JUST|SHOOTING DELAYED|SHOOTING IN PROGRESS|SHOOTING JUST OCCURR|SHOPLIFTER|SILENT ALARM|SILENT HOLD-UP ALARM|SILENT INTRUSION ALA|SMOKE INVESTIGATION|SNAKE CALL|SPECIAL DETAIL|STABBING DELAYED|STABBING IN PROGRESS|STABBING JUST OCCURR|STALKER DELAYED|STALKER IN PROGRESS|STALKER JUST OCCURRE|STOLEN TAG DELAYED|STOLEN TAG IN PROGRE|STOLEN TAG JUST OCCU|STOLEN TAG RECOVERY|STOLEN VEHICLE DELAY|STOLEN VEHICLE IN PR|STOLEN VEHICLE JUST|STOLEN VEHICLE RECOV|SUICIDE IN PROGRESS|SUICIDE THREATS ONLY|SUSPICIOUS INCIDENT|SUSPICIOUS PERSON|SUSPICIOUS VEHICLE|THEFT ATTEMPT|THEFT DELAYED|THIRD ALARM|TRAFFIC|TRAFFIC STOP|TRESPASSING|VANDALISM/MALICIOUS|VEHICLE ALARM|VEHICLE FIRE|VICE CASE (NON DRUG)".split("|"),c=function(t,e){var n=e.substring(0,2),a=e.substring(2);return E.i(s.addHours)(E.i(s.addMinutes)(E.i(s.startOfDay)(t),a),n)};e.default={name:"map",components:{"v-map":r.a.Map,"v-tilelayer":r.a.TileLayer,"v-popup":r.a.Popup,"v-marker":r.a.Marker,Multiselect:o.a},mounted:function(){this.filters.availableOptions=R.map(function(t){return{name:t}}),this.mapObject=this.$refs.fullscreenMap.mapObject,this.fetchMapData()},data:function(){return{zoom:12,center:[26.1402244,-80.1908217],url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',marker:L.latLng(26.1402244,-80.1908217),activeMarkers:[],heatMap:null,mapObject:null,filters:{selectedCodes:[],availableOptions:[],enablePoints:!1},popupFields:["capriority","actdate","timedisp","timearrive","timeclear","emshift","officer","ncodedesc","zone","zip"]}},methods:{fetchMapData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"init",n=arguments[1];this.$root.loading();var a=this.getMeAUrl();"init"!==e&&(this.heatMap.remove(),a=this.getMeAUrl("ncodedesc="+n,500)),this.$http.get(a).then(function(e){t.activeMarkers=t.processMarkers(e.body);var n=e.body.map(function(t){if(!t.timedisp||!t.actdate||!t.timearrive)return[0,0,0];var e=E.i(s.parse)(t.actdate),n=("0000"+t.timedisp).substring(t.timedisp.length),a=("0000"+t.timearrive).substring(t.timearrive.length),r=c(e,n),i=c(e,a),o=E.i(s.differenceInMinutes)(i,r),A=0,I=30;return A=o>I?1:o/I,[t.location.coordinates[1],t.location.coordinates[0],A]});t.heatMap=L.heatLayer(n,{maxZoom:1,radius:20}).addTo(t.mapObject),t.$root.loaded()},function(e){t.$root.loaded()})},getMeAUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return"https://fortlauderdale.data.socrata.com/resource/uqjx-pish.json?$limit="+e+'&$where=timedisp IS NOT NULL AND actdate > "2016-01-01T00:00:00.000" AND geox > 25 '+(t?"AND ("+t+")":"")},processMarkers:function(t){var e=this;return t.filter(function(t){return t.location}).map(function(t){return{latlng:L.latLng(t.location.coordinates[1],t.location.coordinates[0]),content:"\n            <b>Case: "+Number(t.case_id)+"</b><br>\n            "+e.popupFields.map(function(e){return e.toUpperCase()+": "+t[e]}).join("<br>")+"\n          "}})},processMarkersForHeatMap:function(t){return t.filter(function(t){return t.location}).map(function(t){return[t.location.coordinates[1],t.location.coordinates[0],1]})},filterSearch:function(t){var e=t.map(function(t){return'"'+t.name+'"'}).join(" OR ncodedesc=");this.fetchMapData("update",e)}}}},73:function(t,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=E(186),a=E.n(n);e.default={components:{"map-container":a.a}}}},[196]);