webpackJsonp([1,2],{178:function(t,e,n){t.exports=n.p+"static/layers-2x.png"},179:function(t,e,n){t.exports=n.p+"static/layers.png"},180:function(t,e,n){t.exports=n.p+"static/marker-icon-2x.png"},181:function(t,e,n){t.exports=n.p+"static/marker-icon.png"},182:function(t,e,n){t.exports=n.p+"static/marker-shadow.png"},192:function(t,e,n){n(65);var E=n(23)(n(72),n(196),null,null);t.exports=E.exports},193:function(t,e,n){var E=n(23)(n(73),n(197),null,null);t.exports=E.exports},194:function(t,e,n){n(64);var E=n(23)(n(74),n(195),null,null);t.exports=E.exports},195:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("map-container")],1)},staticRenderFns:[]}},196:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.isLoading?n("div",{staticClass:"loading-container"},[n("img",{staticClass:"preloader",attrs:{src:t.basePath+"static/animated_preloader.svg"}})]):t._e()])],1)},staticRenderFns:[]}},197:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"map_container"}},[n("v-map",{ref:"fullscreenMap",attrs:{zoom:t.zoom,center:t.center}},[n("v-tilelayer",{attrs:{url:t.url,attribution:t.attribution}}),t._v(" "),t._l(t.activeMarkers,function(e){return t.filters.enablePoints?n("v-marker",{attrs:{"lat-lng":e.latlng}},[n("v-popup",{attrs:{content:e.content}})],1):t._e()})],2),t._v(" "),n("div",{attrs:{id:"filters"}},[n("button",{staticClass:"btn-toggle-points",on:{click:function(e){t.filters.enablePoints=!t.filters.enablePoints}}},[t._v("EP")]),t._v(" "),n("multiselect",{directives:[{name:"model",rawName:"v-model",value:t.filters.selectedCodes,expression:"filters.selectedCodes"}],attrs:{options:t.filters.availableOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!0,"hide-selected":!0,placeholder:"Select category(ies)",label:"name","track-by":"name"},domProps:{value:t.filters.selectedCodes},on:{input:[function(e){t.filters.selectedCodes=e},t.filterSearch]}})],1)],1)])},staticRenderFns:[]}},205:function(t,e){},206:function(t,e,n){t.exports=n(63)},63:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var E=(n(68),n(67));n(69),E.a.$mount("#app")},64:function(t,e){},65:function(t,e){},67:function(t,e,n){"use strict";var E=n(4),a=n.n(E),r=n(203),o=(n.n(r),n(192)),i=n.n(o),s=n(70),A=n(71);n.d(e,"a",function(){return R});var I=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var E in n)Object.prototype.hasOwnProperty.call(n,E)&&(t[E]=n[E])}return t};n.i(r.sync)(A.a,s.a);var R=new a.a(I({router:s.a,store:A.a},i.a))},68:function(t,e,n){"use strict";var E=n(190),a=n.n(E);window.Promise=window.Promise||a.a},69:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var E=n(189),a=n.n(E);a.a.install({onUpdateReady:function(){console.log("update ready"),a.a.applyUpdate()},onUpdated:function(){console.log("updated"),location.reload()}})},70:function(t,e,n){"use strict";var E=n(4),a=n.n(E),r=n(200),o=n.n(r),i=n(194),s=n.n(i);a.a.use(o.a),e.a=new o.a({mode:"hash",routes:[{path:"/",component:s.a}]})},71:function(t,e,n){"use strict";var E=n(4),a=n.n(E),r=n(204),o=n.n(r);a.a.use(o.a);var i={count:0},s={INCREMENT:function(t){t.count++},DECREMENT:function(t){t.count--}},A={incrementAsync:function(t){var e=t.commit;setTimeout(function(){e("INCREMENT")},200)}},I=new o.a.Store({state:i,mutations:s,actions:A});e.a=I},72:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{isLoading:!0,basePath:"/flpd-resource-allocation-suggestions/"}},methods:{loaded:function(){this.isLoading=!1},loading:function(){this.isLoading=!0}}}},73:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var E=n(4),a=n.n(E),r=n(202),o=n.n(r),i=n(198),s=n.n(i),A=n(199),I=n.n(A),R=n(184),c=(n.n(R),n(114));n.n(c);a.a.use(I.a),n(180),n(182),L.Icon.Default.imagePath="/flpd-resource-allocation-suggestions/static/",n(183),a.a.component(s.a);var T="ABANDONED VEHICLE|ACCIDENT|ACCIDENT DEALYED REP|ACCIDENT DELAYED REP|ACCIDENT HIGHWAY|ACCIDENT ROLLOVER OR|ACCIDENT W/INJURIES|ACCIDENT/EMERGENCY O|ACCIDENT-MINOR|ANIMAL BITE|ANIMAL BITE/ABUSE|ANIMAL CALL/ABUSE|ANY FIRE NOT OTHERWI|AOA|AOA (ASSIST TO OTHER|ASSAULT DELAYED|ASSAULT IN PROGRESS|ASSAULT JUST OCCURRE|AUDIBLE ALARM|BEVERAGE VIOLATION|BIOLOGICAL HAZARD|BOAT MARINE-FIRE|BOAT-MARINE ACCIDENT|BOMB THREAT|BREAKING & ENTERING|BURGLARY VEHICLE|CHILD MOLESTATION DE|CHILD MOLESTATION IN|CHILD MOLESTATION JU|CHILD/ELDERLY ABUSE|CIVIL MATTER|CODE ENFORCEMENT|COMMERCIAL STRUCTURE|CONTACT|DEAD PERSON|DISTURBANCE|DISTURBANCE - NOISE|DISTURBANCE JUVENILE|DISTURBANCE NEIGHBOR|DOMESTIC DISTURBANCE|DROWNING|DROWNING OPEN WATER|DRUNK DRIVER|DRUNK PEDESTRIAN|ELECTRICAL/UTILITY F|ELEVATOR RESCUE|EMBEZZLEMENT FRAUD|EMBEZZLEMENT-FRAUD D|EMBEZZLEMENT-FRAUD I|EMBEZZLEMENT-FRAUD J|ESCAPED PRISONER|EXPLOSION|FELONY|FIGHT DELAYED|FIGHT IN PROGRESS|FIGHT JUST OCCURRED|FIRE ALARM|FIRST ALARM|FORGERY-COUNTERFEIT|FRAUD LATE REPORT|GAMBLING|GPS TRACKER|HAZ-MAT INCIDENT|HEAVY RESCUE (COLLAS|HIT & RUN DELAYED RE|HIT & RUN W/INJURIES|HIT AND RUN|HOLD-UP ALARM|IMPERSONATING OFFICE|INFORMATION|KIDNAPPING/FALSE IMP|LARCENY DELAYED|LARCENY IN PROGRESS|LARCENY JUST OCCURRE|LARCENY-AUTO PARTS D|LARCENY-AUTO PARTS I|LARCENY-AUTO PARTS J|LEWD LACIVIOUS ACTS|LEWD-LASCIVIOUS ACTS|LOOSE FARM ANIMAL ON|LOST  FOUND PROPERTY|LOST/FOUND PROPERTY|MARINE ACCIDENT/EMER|MEDICAL -  CHEST PAI|MEDICAL -  ELECTROCU|MEDICAL -  FALL INJU|MEDICAL -  FALL NO I|MEDICAL -  HEAT/COLD|MEDICAL -  OVER DOSE|MEDICAL - ABDMONIAL|MEDICAL - ALLERGIC R|MEDICAL - BURN|MEDICAL - CHOKING|MEDICAL - DIABETIC|MEDICAL - HEART ATTA|MEDICAL - HEMORRHAGE|MEDICAL - INJURY|MEDICAL - INTERFACIL|MEDICAL - OBSTETRICA|MEDICAL - PASSED OUT|MEDICAL - PERSON DOW|MEDICAL - SEIZURE|MEDICAL - SICK PERSO|MEDICAL - STROKE|MEDICAL - TROUBLE BR|MEDICAL - UNKNOWN ME|MEDICAL ALARM|MENTALLY ILL PERSON|MISDEMEANOR|MISSING PERSON|MISSING PERSON (ENDA|MISSING PERSON (RECO|MISSING PERSON JUVEN|MURDER|NARCOTICS|ON VIEW|OPEN DOOR|POLICE SERVICE CALL|PRINTRAK TEST EVENT|PRIVATE INVESTIGATOR|PROWLER/PEEPING TOM|RE-CALL|RECKLESS DRIVING|RECKLESS OPERATION-B|RESIDENTIAL FIRE|ROBBERY - IN-PROGRES|ROBBERY - JUST OCCUR|ROBBERY DELAYED|SCC TEST TYPE PRIORI|SECOND ALARM|SEXUAL ASSAULT DELAY|SEXUAL ASSAULT IN-PR|SEXUAL ASSAULT JUST|SHOOTING DELAYED|SHOOTING IN PROGRESS|SHOOTING JUST OCCURR|SHOPLIFTER|SILENT ALARM|SILENT HOLD-UP ALARM|SILENT INTRUSION ALA|SMOKE INVESTIGATION|SNAKE CALL|SPECIAL DETAIL|STABBING DELAYED|STABBING IN PROGRESS|STABBING JUST OCCURR|STALKER DELAYED|STALKER IN PROGRESS|STALKER JUST OCCURRE|STOLEN TAG DELAYED|STOLEN TAG IN PROGRE|STOLEN TAG JUST OCCU|STOLEN TAG RECOVERY|STOLEN VEHICLE DELAY|STOLEN VEHICLE IN PR|STOLEN VEHICLE JUST|STOLEN VEHICLE RECOV|SUICIDE IN PROGRESS|SUICIDE THREATS ONLY|SUSPICIOUS INCIDENT|SUSPICIOUS PERSON|SUSPICIOUS VEHICLE|THEFT ATTEMPT|THEFT DELAYED|THIRD ALARM|TRAFFIC|TRAFFIC STOP|TRESPASSING|VANDALISM/MALICIOUS|VEHICLE ALARM|VEHICLE FIRE|VICE CASE (NON DRUG)".split("|"),N=function(t,e){var E=e.substring(0,2),a=e.substring(2);return n.i(c.addHours)(n.i(c.addMinutes)(n.i(c.startOfDay)(t),a),E)};e.default={name:"map",components:{"v-map":o.a.Map,"v-tilelayer":o.a.TileLayer,"v-popup":o.a.Popup,"v-marker":o.a.Marker,Multiselect:s.a},mounted:function(){this.filters.availableOptions=T.map(function(t){return{name:t}}),this.mapObject=this.$refs.fullscreenMap.mapObject,this.fetchMapData()},data:function(){return{zoom:12,center:[26.1402244,-80.1908217],url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',marker:L.latLng(26.1402244,-80.1908217),activeMarkers:[],heatMap:null,mapObject:null,filters:{selectedCodes:[],availableOptions:[],enablePoints:!1},popupFields:["capriority","actdate","timedisp","timearrive","timeclear","emshift","officer","ncodedesc","zone","zip"]}},methods:{fetchMapData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"init",E=arguments[1];this.$root.loading();var a=this.getMeAUrl();"init"!==e&&(this.heatMap.remove(),a=this.getMeAUrl("ncodedesc="+E,500)),this.$http.get(a).then(function(e){t.activeMarkers=t.processMarkers(e.body);var E=e.body.map(function(t){if(!t.timedisp||!t.actdate||!t.timearrive)return[0,0,0];var e=n.i(c.parse)(t.actdate),E=("0000"+t.timedisp).substring(t.timedisp.length),a=("0000"+t.timearrive).substring(t.timearrive.length),r=N(e,E),o=N(e,a),i=n.i(c.differenceInMinutes)(o,r),s=0,A=30;return s=i>A?1:i/A,[t.location.coordinates[0],t.location.coordinates[1],s]});t.heatMap=L.heatLayer(E,{maxZoom:1,radius:20}).addTo(t.mapObject),t.$root.loaded()},function(e){t.$root.loaded()})},getMeAUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return"https://fortlauderdale.data.socrata.com/resource/uqjx-pish.json?$limit="+e+'&$where=timedisp IS NOT NULL AND actdate > "2016-01-01T00:00:00.000" AND geox > 25 '+(t?"AND ("+t+")":"")},processMarkers:function(t){var e=this;return t.filter(function(t){return t.location}).map(function(t){return{latlng:L.latLng(t.location.coordinates[0],t.location.coordinates[1]),content:"\n            <b>Case: "+Number(t.case_id)+"</b><br>\n            "+e.popupFields.map(function(e){return e.toUpperCase()+": "+t[e]}).join("<br>")+"\n          "}})},processMarkersForHeatMap:function(t){return t.filter(function(t){return t.location}).map(function(t){return[t.location.coordinates[0],t.location.coordinates[1],1]})},filterSearch:function(t){var e=t.map(function(t){return'"'+t.name+'"'}).join(" OR ncodedesc=");this.fetchMapData("update",e)}}}},74:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var E=n(193),a=n.n(E);e.default={components:{"map-container":a.a}}}},[206]);
//# sourceMappingURL=client.180e6d2c.js.map